<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Python script by yzw.beast@gmail.com" />
    <meta name="provider" content="pylove.us.kg" />
    <link type="text/css" rel="stylesheet" href="/css/yzw-beast.css">
    <script src="/js/yzwbeast.js" type="text/javascript"></script>
    <link href="https://pylove.us.kg/images/yzwer.jpg" rel="icon" type="image/x-icon">

    <!--@ Change blog title @-->
    <title>学好日文 - 叶泽伟的博客</title>
</head>

<body>
    <div class="container">
        <div class="content">
            <div id="main">
                <div id="part1">
                    <h1><a href="/index.html" title="跳转到俺的博客">叶泽伟的博客</a></h1>
                    <div id="suns-container"></div>
                    <div class="descriptionwrapper">
                        <div id="countdown" class="countdown" aria-live="polite"></div>
                        <script language="JavaScript">
                            document.write(quote)
                        </script>
                        <hr>
                    </div>
                </div>
                <div>
                    <span class="post-config-buttons" onclick="fn()">
                        <div id="partmax"><a class="tooltip" id="tooltip1"><img src="/images/maximize_32x32.png"
                                    alt="进入全屏"></a></div>
                        <div id="partmin" style="display: none;"><a class="tooltip" id="tooltip2"><img
                                    src="/images/minimize_32x32.png" alt="退出全屏"></a></div>
                    </span>
                    <span class="post-config-buttons">
                        <div id="enter" onclick="enterFullScreen()" style="cursor: pointer;">
                            <a class="tooltip" id="tooltip3"><img src="/images/enterFullScreen_32x32.png"
                                    alt="进入全屏"></a>
                        </div>
                        <div id="exit" onclick="exitFullScreen()" style="display: none; cursor: pointer;">
                            <a class="tooltip" id="tooltip4"><img src="/images/exitFullScreen_32x32.png" alt="退出全屏"></a>
                        </div>
                    </span>
                </div>
                <div class="post">
                    <h2><a href="/index.html" title="回到首页">日文时间线</a></h2>
                    <div class="meta">
                        <span class="post-timestamp">学习历程，资源来自 <a
                                href="https://www.japanesepod101.com/">japanesepod101</a></span>
                        <span class="tags">
                            标签：
                            <a href="/tags/japan.html" class="tag">Japanese</a>
                        </span>
                    </div>
                    <div id="ja_level-container"></div>
                </div>
            </div>
        </div>
        <aside id="part2" class="sidebar"></aside>
    </div> <!-- end content-wrapper -->
    <!-- <script src="/js/ja_level.js" type="text/javascript"></script> -->
    <script>
        // 获取元素的方法
        function getElement(selector, context = document) {
            return context.querySelector(selector);
        }

        function getElements(selector, context = document) {
            return context.querySelectorAll(selector);
        }

        // 切换 Accordion 折叠状态
        function toggleAccordion(headerElement) {
            const accordionItem = headerElement.parentElement;
            const content = getElement('.accordion-content', accordionItem);

            // 判断当前是否打开
            const isOpen = headerElement.classList.contains('open');

            // 关闭所有其他打开的 Accordion
            getElements('.accordion-header').forEach(header => {
                if (header !== headerElement) {
                    header.classList.remove('open');
                    const siblingContent = getElement('.accordion-content', header.parentElement);
                    if (siblingContent) siblingContent.style.display = 'none';
                }
            });

            // 切换当前 Accordion
            if (isOpen) {
                headerElement.classList.remove('open');
                content.style.display = 'none';
            } else {
                headerElement.classList.add('open');
                content.style.display = 'block';
            }
        }

        // 显示弹窗
        function showModal(contentUrl) {
            const modalOverlay = getElement('#modal-overlay');
            const modalBody = getElement('#modal-body');

            // 加载外部内容
            fetch(contentUrl)
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error('内容加载失败');
                    }
                })
                .then(html => {
                    modalBody.innerHTML = html; // 将内容插入到弹窗中
                    modalOverlay.style.display = 'flex'; // 显示弹窗
                })
                .catch(error => {
                    modalBody.innerHTML = `<p>加载失败: ${error.message}</p>`;
                    modalOverlay.style.display = 'flex';
                });
        }

        // 关闭弹窗
        function closeModal() {
            const modalOverlay = getElement('#modal-overlay');
            const modalBody = getElement('#modal-body');

            modalOverlay.style.display = 'none';
            modalBody.innerHTML = ''; // 清空内容
        }

        // 初始化事件绑定
        function initializeModalEvents() {
            const modalLinks = getElements('.modal-link');
            modalLinks.forEach(link => {
                link.addEventListener('click', event => {
                    event.preventDefault(); // 阻止默认跳转
                    const url = link.getAttribute('href');
                    showModal(url);
                });
            });

            // 绑定关闭按钮事件
            const closeButton = getElement('#modal-close');
            closeButton.addEventListener('click', closeModal);

            // 点击遮罩层关闭弹窗
            const modalOverlay = getElement('#modal-overlay');
            modalOverlay.addEventListener('click', event => {
                if (event.target === modalOverlay) {
                    closeModal();
                }
            });
        }

        // DOM 加载后初始化
        function onDOMLoaded(callback) {
            document.addEventListener('DOMContentLoaded', callback);
        }

        // 主入口
        onDOMLoaded(() => {
            initializeModalEvents();
        });
    </script>
    <script src="/js/countdown.js" type="text/javascript"></script>
</body>

</html>